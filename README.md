# A boilerplate to dockerize a Laravel app

## Techs

- PHP 7.3.16

- APACHE

- NODEJS 12.x / NPM

- COMPOSER latest

- MYSQL 5.7

- PHPMYADMIN latest

- MAILDEV latest

- REDIS 5.0.5

<hr>

## Run `docker-compose`

To run your `Docker` environment, check the commands below :

```bash
# Build the services
# USER_ID and GROUP_ID variables will tell docker that all
# the folders/files generated by your PHP application will
# have your local group and user

USER_ID=$(id -u) GROUP_ID=$(id -g) docker-compose build

# Run
# using -d, your containers will run on the backend

docker-compose up -d
```

## Access my website

You can access your website at `localhost:8080`. An Apache configuration file defined a VirtualHost, you can access your website also at `mysite.local:8080`. Don't forget to add `127.0.0.1 mysite.local` on your `/etc/hosts` file. <br> To customize the VirtualHost, edit the `docker/apache/default.conf` file.

## php.ini

You can customize the `php.ini` file by adding/updating values on the `docker/apache/php.ini` file.

## MySQL and PhpMyAdmin

- Update the environment variables on the `docker-compose.yml` file : `MYSQL_USER`, `MYSQL_PASSWORD` and `MYSQL_ROOT_PASSWORD`

- You can access `PhpMyAdmin` at `localhost:8181`, use `db` as mysql host

- You can override the `mysql` conf by writting on the `docker/mysql/custom.cnf` file

- Configure your `.env` file on Laravel like below :

```bash
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=db           # defined on docker-compose.yml
DB_USERNAME=my-username  # defined on docker-compose.yml
DB_PASSWORD=my-password  # defined on docker-compose.yml
```

## Redis

Configure your `.env` file on Laravel like below :

```bash
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379
```

## Maildev

- You can access the `Maildev` UI at `localhost:1080`

- Configure your `.env` file on Laravel like below :

```bash
MAIL_MAILER=smtp
MAIL_HOST=maildev
MAIL_PORT=25
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=null
MAIL_FROM_NAME="${APP_NAME}"
```

## Vim

- A `.vimrc` file is already configured for you to get a good `Vim` experience

## Zsh and Oh-My-Zsh

- A `.zshrc` file and the `oh-my-zsh` framework are installed, managing your container is better now !
